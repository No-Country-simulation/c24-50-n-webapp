<template>
    <svg width="" height="281" viewBox="0 0 387 281" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g filter="url(#filter0_d_14_9327)">
            <rect x="63" y="83" width="261" height="164" rx="10" fill="#FFD794" />
        </g>
        <g filter="url(#filter1_d_14_9327)">
            <rect x="50" y="61" width="287" height="178" rx="10" fill="#FB6B18" />
        </g>
        <g filter="url(#filter2_d_14_9327)">
            <path
                d="M342.783 26H44.2174C36.3653 26 30 32.2557 30 39.9726V216.027C30 223.744 36.3653 230 44.2174 230H342.783C350.635 230 357 223.744 357 216.027V39.9726C357 32.2557 350.635 26 342.783 26Z"
                fill="url(#paint0_linear_14_9327)" />
            <mask id="mask0_14_9327" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="30" y="26" width="327"
                height="204">
                <path
                    d="M342.783 26H44.2174C36.3653 26 30 32.2557 30 39.9726V216.027C30 223.744 36.3653 230 44.2174 230H342.783C350.635 230 357 223.744 357 216.027V39.9726C357 32.2557 350.635 26 342.783 26Z"
                    fill="#DAEBFF" />
            </mask>
            <g mask="url(#mask0_14_9327)">
                <path
                    d="M75.8988 348.172C173.489 348.172 252.601 270.422 252.601 174.513C252.601 78.6032 173.489 0.853149 75.8988 0.853149C-21.6909 0.853149 -100.803 78.6032 -100.803 174.513C-100.803 270.422 -21.6909 348.172 75.8988 348.172Z"
                    fill="#384E68" />
                <path
                    d="M348.878 153.749C401.599 153.749 444.338 111.746 444.338 59.9325C444.338 8.11928 401.599 -33.8837 348.878 -33.8837C296.157 -33.8837 253.418 8.11928 253.418 59.9325C253.418 111.746 296.157 153.749 348.878 153.749Z"
                    fill="#52D5BA" />
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M293.346 198.394L297.046 187.87V187.871H301.041L295.104 203.345H291.108L287.72 190.029C290.114 191.321 292.259 193.924 292.943 196.319L293.346 198.394ZM302.564 187.87L300.201 203.36H303.977L306.339 187.87H302.564ZM313.954 194.18C312.635 193.493 311.826 193.03 311.826 192.327C311.842 191.689 312.51 191.035 314.001 191.035C315.228 191.002 316.13 191.306 316.814 191.608L317.157 191.769L317.67 188.528C316.924 188.225 315.742 187.89 314.281 187.89C310.552 187.89 307.926 189.933 307.91 192.855C307.879 195.011 309.79 196.207 311.22 196.925C312.68 197.661 313.178 198.138 313.178 198.793C313.162 199.797 311.996 200.26 310.909 200.26C309.403 200.26 308.594 200.022 307.366 199.462L306.868 199.223L306.34 202.592C307.227 203.007 308.859 203.373 310.552 203.391C314.515 203.391 317.094 201.379 317.126 198.266C317.139 196.557 316.132 195.249 313.954 194.18ZM324.43 187.918H327.352L330.397 203.373H326.901L326.335 200.287H321.901L320.81 203.36H316.846L322.456 189.164C322.846 188.19 323.53 187.918 324.43 187.918ZM323 197.183C323.081 197.175 324.521 192.167 324.521 192.167L325.672 197.183H323Z"
                    fill="white" />
                <path
                    d="M291.697 189.979C291.426 188.73 290.564 187.888 289.393 187.87H283.897L283.841 188.173C288.128 189.428 291.726 193.291 292.893 196.924L291.697 189.979Z"
                    fill="white" />
            </g>
        </g>
        <text x="14%" y="24%" dominant-baseline="middle" font-size="24" fill="white">
            {{props.nombre}}
        </text>

        <text x="14%" y="48%" dominant-baseline="middle" font-size="14" fill="white">
            Free account
        </text>

        <text x="14%" y="57%" dominant-baseline="middle" font-size="16" fill="white">
            {{ formattedCuenta.primerosCuatro }}
        </text>

        <text x="52%" y="57%" dominant-baseline="middle" font-size="16" fill="white">
            {{ formattedCuenta.ultimosCuatro }}
        </text>

        <path
            d="M134.504 161.744C134.496 161.217 134.644 160.699 134.932 160.257C135.219 159.815 135.631 159.469 136.116 159.261C136.602 159.054 137.138 158.995 137.656 159.093C138.175 159.191 138.653 159.441 139.029 159.81C139.405 160.18 139.662 160.653 139.768 161.169C139.874 161.685 139.824 162.221 139.624 162.709C139.424 163.196 139.083 163.613 138.645 163.907C138.206 164.2 137.69 164.357 137.163 164.357C136.463 164.363 135.79 164.09 135.291 163.6C134.793 163.11 134.509 162.442 134.504 161.744ZM124.537 161.744C124.529 161.217 124.678 160.699 124.965 160.257C125.252 159.815 125.665 159.469 126.15 159.261C126.635 159.054 127.171 158.995 127.69 159.093C128.208 159.191 128.686 159.441 129.062 159.81C129.438 160.18 129.696 160.653 129.802 161.169C129.908 161.685 129.857 162.221 129.657 162.709C129.457 163.196 129.117 163.613 128.678 163.907C128.24 164.2 127.724 164.357 127.196 164.357C126.85 164.36 126.506 164.295 126.185 164.165C125.864 164.035 125.571 163.843 125.324 163.6C125.078 163.358 124.881 163.069 124.746 162.75C124.611 162.432 124.54 162.09 124.537 161.744H124.537ZM114.567 161.744C114.558 161.217 114.707 160.699 114.994 160.257C115.282 159.815 115.694 159.469 116.179 159.261C116.664 159.054 117.2 158.995 117.719 159.093C118.238 159.191 118.715 159.441 119.091 159.81C119.468 160.18 119.725 160.653 119.831 161.169C119.937 161.685 119.887 162.221 119.687 162.709C119.487 163.196 119.146 163.613 118.707 163.907C118.269 164.2 117.753 164.357 117.226 164.357C116.526 164.363 115.853 164.09 115.354 163.6C114.855 163.11 114.572 162.442 114.567 161.744ZM104.6 161.744C104.592 161.217 104.741 160.699 105.028 160.257C105.315 159.815 105.728 159.469 106.213 159.261C106.698 159.054 107.234 158.995 107.753 159.093C108.271 159.191 108.749 159.441 109.125 159.81C109.501 160.18 109.759 160.653 109.865 161.169C109.97 161.685 109.92 162.221 109.72 162.709C109.52 163.196 109.179 163.613 108.741 163.907C108.303 164.2 107.787 164.357 107.259 164.357C106.913 164.36 106.569 164.295 106.248 164.165C105.927 164.035 105.634 163.843 105.387 163.6C105.14 163.358 104.944 163.069 104.809 162.75C104.673 162.432 104.603 162.09 104.6 161.744H104.6Z"
            fill="white" />
        <path
            d="M181.03 161.74C181.022 161.213 181.171 160.696 181.458 160.254C181.745 159.812 182.158 159.465 182.643 159.258C183.128 159.05 183.664 158.992 184.182 159.09C184.701 159.187 185.179 159.437 185.555 159.807C185.931 160.176 186.188 160.649 186.294 161.165C186.4 161.682 186.35 162.218 186.15 162.705C185.95 163.193 185.609 163.61 185.171 163.903C184.733 164.197 184.217 164.354 183.689 164.354C182.989 164.359 182.316 164.087 181.817 163.597C181.319 163.106 181.035 162.439 181.03 161.74ZM171.06 161.74C171.051 161.213 171.2 160.696 171.487 160.254C171.775 159.812 172.187 159.465 172.672 159.258C173.157 159.05 173.693 158.992 174.212 159.09C174.731 159.187 175.208 159.437 175.584 159.807C175.961 160.176 176.218 160.649 176.324 161.165C176.43 161.682 176.38 162.218 176.18 162.705C175.98 163.193 175.639 163.61 175.2 163.903C174.762 164.197 174.246 164.354 173.719 164.354C173.019 164.359 172.346 164.087 171.847 163.597C171.348 163.106 171.065 162.439 171.06 161.74ZM161.093 161.74C161.085 161.213 161.234 160.696 161.521 160.254C161.808 159.812 162.22 159.465 162.706 159.258C163.191 159.05 163.727 158.992 164.245 159.09C164.764 159.187 165.242 159.437 165.618 159.807C165.994 160.176 166.251 160.649 166.357 161.165C166.463 161.682 166.413 162.218 166.213 162.705C166.013 163.193 165.672 163.61 165.234 163.903C164.795 164.197 164.28 164.354 163.752 164.354C163.052 164.359 162.379 164.087 161.88 163.597C161.382 163.106 161.098 162.439 161.093 161.74ZM151.122 161.74C151.114 161.213 151.263 160.696 151.55 160.254C151.837 159.812 152.25 159.465 152.735 159.258C153.22 159.05 153.756 158.992 154.275 159.09C154.793 159.187 155.271 159.437 155.647 159.807C156.023 160.176 156.281 160.649 156.387 161.165C156.493 161.682 156.442 162.218 156.242 162.705C156.042 163.193 155.701 163.61 155.263 163.903C154.825 164.197 154.309 164.354 153.781 164.354C153.082 164.359 152.408 164.087 151.91 163.597C151.411 163.106 151.128 162.439 151.122 161.74Z"
            fill="white" />

        <text x="14%" y="68%" dominant-baseline="middle" class="font-semibold" font-size="20" fill="white">
            {{ formattedBalance }}
        </text>
        
        <defs>
            <filter id="filter0_d_14_9327" x="33" y="57" width="321" height="224" filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha" />
                <feOffset dy="4" />
                <feGaussianBlur stdDeviation="15" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.211765 0 0 0 0 0.160784 0 0 0 0 0.717647 0 0 0 0.07 0" />
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14_9327" />
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14_9327" result="shape" />
            </filter>
            <filter id="filter1_d_14_9327" x="20" y="35" width="347" height="238" filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha" />
                <feOffset dy="4" />
                <feGaussianBlur stdDeviation="15" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.211765 0 0 0 0 0.160784 0 0 0 0 0.717647 0 0 0 0.07 0" />
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14_9327" />
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14_9327" result="shape" />
            </filter>
            <filter id="filter2_d_14_9327" x="0" y="0" width="387" height="264" filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha" />
                <feOffset dy="4" />
                <feGaussianBlur stdDeviation="15" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.211765 0 0 0 0 0.160784 0 0 0 0 0.717647 0 0 0 0.07 0" />
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_14_9327" />
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_14_9327" result="shape" />
            </filter>
            <linearGradient id="paint0_linear_14_9327" x1="193.5" y1="26" x2="193.5" y2="230"
                gradientUnits="userSpaceOnUse">
                <stop stop-color="#469FEF" />
                <stop offset="0.258455" stop-color="#5C75F0" />
                <stop offset="0.652018" stop-color="#6C56F0" />
            </linearGradient>
        </defs>
    </svg>

</template>

<script setup>
import { computed } from 'vue';
import { formatToUSD } from '@/utils/jwtid';

const props = defineProps({
    nombre: String,
    balance: Number,
    numeroCuenta: String
})

const formattedCuenta = computed(() => {
    const numeroCuenta = props.numeroCuenta || '';
    const primerosCuatro = numeroCuenta.slice(0, 4);
    const ultimosCuatro = numeroCuenta.slice(-4);
    return {primerosCuatro, ultimosCuatro};
});

const formattedBalance = computed(() => {
    return formatToUSD(props.balance);
});

</script>

